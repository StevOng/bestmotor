# Generated by Django 5.0.7 on 2025-05-30 16:03

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Barang',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('kode_barang', models.CharField(max_length=10, unique=True)),
                ('nama_barang', models.CharField(max_length=255)),
                ('kategori', models.CharField(choices=[('aki', 'Aki'), ('filter udara', 'Filter Udara'), ('kampas rem', 'Kampas Rem'), ('oli dan pelumas', 'Oli dan Pelumas'), ('karet dan seal', 'Karet dan Seal'), ('busi dan tutup busi', 'Busi dan Tutup Busi'), ('piston dan ring piston', 'Piston dan Ring Piston'), ('karburator dan vacuum', 'Karburator dan Vacuum'), ('camshaft', 'Camshaft'), ('crankshaft', 'Crankshaft'), ('katup', 'Katup'), ('connecting rod', 'Connecting Rod'), ('pompa oli', 'Pompa Oli'), ('lampu', 'Lampu'), ('ban', 'Ban'), ('velg', 'Velg'), ('rem', 'Rem'), ('spion', 'Spion')], default=None, max_length=50)),
                ('merk', models.CharField(choices=[('toyota', 'Toyota'), ('astra', 'Astra'), ('denso', 'Denso'), ('honda', 'Honda'), ('yamaha', 'Yamaha'), ('ngk', 'NGK'), ('daytona', 'Daytona'), ('aspira', 'Aspira'), ('bosch', 'Bosch'), ('isuzu', 'Isuzu')], default=None, max_length=50)),
                ('harga_jual', models.DecimalField(decimal_places=2, max_digits=19)),
                ('stok_minimum', models.IntegerField()),
                ('harga_modal', models.DecimalField(decimal_places=2, max_digits=19)),
                ('stok', models.IntegerField()),
                ('qty_terjual', models.IntegerField()),
                ('gambar', models.BinaryField()),
                ('keterangan', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='Customer',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('nama', models.CharField(max_length=50)),
                ('no_hp', models.CharField(max_length=20, unique=True)),
                ('lokasi', models.CharField(max_length=255)),
                ('alamat_lengkap', models.CharField(max_length=255)),
                ('toko', models.CharField(max_length=255)),
                ('catatan', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='Hutang',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('no_bukti', models.CharField(max_length=10, unique=True)),
                ('tanggal', models.DateTimeField(auto_now_add=True)),
                ('nilai_bayar', models.DecimalField(decimal_places=2, max_digits=19)),
                ('total_potongan', models.DecimalField(decimal_places=2, max_digits=19)),
                ('total_pelunasan', models.DecimalField(decimal_places=2, max_digits=19)),
                ('update_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='Supplier',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('perusahaan', models.CharField(max_length=50)),
                ('nama_sales', models.CharField(max_length=50)),
                ('no_hp', models.CharField(max_length=20, unique=True)),
                ('lokasi', models.CharField(max_length=50)),
                ('jenis_barang', models.CharField(max_length=50)),
                ('merk_barang', models.CharField(max_length=50)),
                ('status', models.CharField(choices=[('aktif', 'Aktif'), ('tidak aktif', 'Tidak Aktif')], default='aktif', max_length=30)),
                ('alamat_lengkap', models.CharField(max_length=255)),
                ('catatan', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('username', models.CharField(max_length=50, unique=True)),
                ('password', models.CharField(max_length=255)),
                ('nama', models.CharField(max_length=50)),
                ('role', models.CharField(choices=[('admin', 'Admin'), ('sales', 'Sales')], max_length=5)),
                ('rute', models.CharField(max_length=255, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='DetailInvoice',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('tanggal', models.DateTimeField(auto_now_add=True)),
                ('top', models.IntegerField()),
                ('jatuh_tempo', models.DateTimeField()),
                ('qty_beli', models.IntegerField()),
                ('qty_retur', models.IntegerField()),
                ('harga_beli', models.DecimalField(decimal_places=2, max_digits=19)),
                ('diskon_barang', models.DecimalField(decimal_places=2, max_digits=19)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('barang_id', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='myapp.barang')),
            ],
        ),
        migrations.CreateModel(
            name='DetailPesanan',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('tanggal_pesanan', models.DateTimeField(auto_now_add=True)),
                ('kurir', models.CharField(choices=[('jne', 'JNE'), ('tiki', 'TIKI'), ('j&t', 'J&T'), ('pos indonesia', 'Pos Indonesia')], default=None, max_length=255)),
                ('top', models.IntegerField()),
                ('jatuh_tempo', models.DateTimeField()),
                ('alamat_kirim', models.CharField(max_length=255)),
                ('keterangan', models.TextField(blank=True, null=True)),
                ('qty_pesan', models.IntegerField()),
                ('qty_retur', models.IntegerField()),
                ('diskon_barang', models.DecimalField(decimal_places=2, max_digits=19)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('barang_id', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='myapp.barang')),
            ],
        ),
        migrations.CreateModel(
            name='Invoice',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('no_invoice', models.CharField(max_length=50, unique=True)),
                ('no_referensi', models.CharField(max_length=50)),
                ('bruto', models.DecimalField(decimal_places=2, max_digits=10)),
                ('ppn', models.DecimalField(decimal_places=2, max_digits=5)),
                ('ongkir', models.DecimalField(decimal_places=2, max_digits=19)),
                ('diskon_invoice', models.DecimalField(decimal_places=2, max_digits=19)),
                ('netto', models.DecimalField(decimal_places=2, max_digits=10)),
                ('potongan', models.DecimalField(decimal_places=2, max_digits=19)),
                ('sisa_bayar', models.DecimalField(decimal_places=2, max_digits=19)),
                ('status', models.CharField(choices=[('lunas', 'Lunas'), ('belum_lunas', 'Belum Lunas'), ('jatuh_tempo', 'Jatuh Tempo')], default='belum lunas', max_length=30)),
                ('terakhir_edit', models.DateTimeField(auto_now=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('barang', models.ManyToManyField(through='myapp.DetailInvoice', to='myapp.barang')),
                ('hutang', models.ManyToManyField(to='myapp.hutang')),
                ('supplier_id', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='myapp.supplier')),
            ],
        ),
        migrations.AddField(
            model_name='detailinvoice',
            name='invoice_id',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='myapp.invoice'),
        ),
        migrations.CreateModel(
            name='Katalog',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('harga_tertera', models.DecimalField(decimal_places=2, max_digits=19)),
                ('harga_diskon', models.DecimalField(decimal_places=2, max_digits=19)),
                ('is_katalog_utama', models.BooleanField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('barang', models.ManyToManyField(to='myapp.barang')),
            ],
        ),
        migrations.CreateModel(
            name='Pesanan',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('no_pesanan', models.CharField(max_length=20, unique=True)),
                ('no_referensi', models.CharField(max_length=50)),
                ('bruto', models.DecimalField(decimal_places=2, max_digits=10)),
                ('ppn', models.DecimalField(decimal_places=2, max_digits=5)),
                ('ongkir', models.DecimalField(decimal_places=2, max_digits=19)),
                ('diskon_pesanan', models.DecimalField(decimal_places=2, max_digits=19)),
                ('netto', models.DecimalField(decimal_places=2, max_digits=10)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('ready', 'Ready'), ('shipped', 'Shipped'), ('cancelled', 'Cancelled')], default='pending', max_length=30)),
                ('terakhir_edit', models.DateTimeField(auto_now=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('barang', models.ManyToManyField(through='myapp.DetailPesanan', to='myapp.barang')),
                ('customer_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='myapp.customer')),
            ],
        ),
        migrations.AddField(
            model_name='detailpesanan',
            name='pesanan_id',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='myapp.pesanan'),
        ),
        migrations.CreateModel(
            name='Piutang',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('no_bukti', models.CharField(max_length=10, unique=True)),
                ('tanggal', models.DateTimeField(auto_now_add=True)),
                ('nilai_bayar', models.DecimalField(decimal_places=2, max_digits=19)),
                ('total_potongan', models.DecimalField(decimal_places=2, max_digits=19)),
                ('total_pelunasan', models.DecimalField(decimal_places=2, max_digits=19)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('customer_id', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='myapp.customer')),
            ],
        ),
        migrations.CreateModel(
            name='Faktur',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('no_faktur', models.CharField(max_length=50, unique=True)),
                ('sisa_bayar', models.DecimalField(decimal_places=2, max_digits=19)),
                ('tanggal_faktur', models.DateTimeField(auto_now_add=True)),
                ('potongan', models.DecimalField(decimal_places=2, max_digits=19)),
                ('total', models.DecimalField(decimal_places=2, max_digits=19)),
                ('status', models.CharField(choices=[('belum_lunas', 'Belum Lunas'), ('jatuh_tempo', 'Jatuh Tempo'), ('lunas', 'Lunas')], default='belum lunas', max_length=30)),
                ('terakhir_edit', models.DateTimeField(auto_now=True)),
                ('pesanan_id', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='myapp.pesanan')),
                ('piutang', models.ManyToManyField(to='myapp.piutang')),
            ],
        ),
        migrations.CreateModel(
            name='ReturBeli',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('no_bukti', models.CharField(max_length=10, unique=True)),
                ('tanggal', models.DateTimeField(auto_now_add=True)),
                ('terakhir_edit', models.DateTimeField(auto_now=True)),
                ('subtotal', models.DecimalField(decimal_places=2, max_digits=19)),
                ('barang', models.ManyToManyField(to='myapp.barang')),
                ('invoice_id', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='myapp.invoice')),
            ],
        ),
        migrations.CreateModel(
            name='ReturJual',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('no_bukti', models.CharField(max_length=10, unique=True)),
                ('tanggal', models.DateTimeField(auto_now_add=True)),
                ('terakhir_edit', models.DateTimeField(auto_now=True)),
                ('subtotal', models.DecimalField(decimal_places=2, max_digits=19)),
                ('barang', models.ManyToManyField(to='myapp.barang')),
                ('faktur_id', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='myapp.faktur')),
            ],
        ),
        migrations.AddField(
            model_name='hutang',
            name='supplier_id',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='myapp.supplier'),
        ),
        migrations.CreateModel(
            name='TierHarga',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('min_qty_grosir', models.IntegerField()),
                ('harga_satuan', models.DecimalField(decimal_places=2, max_digits=19)),
                ('barang_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='myapp.barang')),
            ],
        ),
        migrations.CreateModel(
            name='TransaksiKeluar',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('no_bukti', models.CharField(max_length=10, unique=True)),
                ('keterangan', models.TextField(blank=True, null=True)),
                ('qty_keluar', models.IntegerField()),
                ('tanggal_pembuatan', models.DateTimeField(auto_now_add=True)),
                ('terakhir_edit', models.DateTimeField(auto_now=True)),
                ('barang', models.ManyToManyField(to='myapp.barang')),
            ],
        ),
        migrations.CreateModel(
            name='TransaksiMasuk',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('no_bukti', models.CharField(max_length=10, unique=True)),
                ('keterangan', models.TextField(blank=True, null=True)),
                ('qty_masuk', models.IntegerField()),
                ('tanggal_pembuatan', models.DateTimeField(auto_now_add=True)),
                ('terakhir_edit', models.DateTimeField(auto_now=True)),
                ('barang', models.ManyToManyField(to='myapp.barang')),
            ],
        ),
        migrations.AddField(
            model_name='customer',
            name='user_id',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='myapp.user'),
        ),
    ]
